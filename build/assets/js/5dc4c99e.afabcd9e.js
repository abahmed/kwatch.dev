"use strict";(self.webpackChunkkwatch=self.webpackChunkkwatch||[]).push([[2488],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>g});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),s=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(a),k=r,g=u["".concat(i,".").concat(k)]||u[k]||h[k]||o;return a?n.createElement(g,c(c({ref:t},p),{},{components:a})):n.createElement(g,c({ref:t},p))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,c=new Array(o);c[0]=k;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:r,c[1]=l;for(var s=2;s<o;s++)c[s]=a[s];return n.createElement.apply(null,c)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},6466:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const o={slug:"detect-crashes-in-your-cluster-using-kwatch-and-slack",title:"Detect crashes in your Kubernetes cluster using kwatch and Slack",authors:["andrew"],tags:["kwatch","kubernetes","devops","monitoring","slack"],keywords:["kwatch","kubernetes","devops","monitoring","slack","cluster","webhook","crash"],description:"monitor all changes in your Kubernetes cluster & detects crashes in your running apps in real time with Slack",pagination_prev:null},c=void 0,l={permalink:"/blog/detect-crashes-in-your-cluster-using-kwatch-and-slack",source:"@site/blog/2022-01-10-detect-crashes-in-your-cluster-using-kwatch-and-slack.mdx",title:"Detect crashes in your Kubernetes cluster using kwatch and Slack",description:"monitor all changes in your Kubernetes cluster & detects crashes in your running apps in real time with Slack",date:"2022-01-10T00:00:00.000Z",formattedDate:"January 10, 2022",tags:[{label:"kwatch",permalink:"/blog/tags/kwatch"},{label:"kubernetes",permalink:"/blog/tags/kubernetes"},{label:"devops",permalink:"/blog/tags/devops"},{label:"monitoring",permalink:"/blog/tags/monitoring"},{label:"slack",permalink:"/blog/tags/slack"}],readingTime:1.8,hasTruncateMarker:!0,authors:[{name:"Andrew Attallah",title:"Maintainer of kwatch",url:"https://github.com/Andrew44Ashraf",imageURL:"https://github.com/Andrew44Ashraf.png",key:"andrew"}],frontMatter:{slug:"detect-crashes-in-your-cluster-using-kwatch-and-slack",title:"Detect crashes in your Kubernetes cluster using kwatch and Slack",authors:["andrew"],tags:["kwatch","kubernetes","devops","monitoring","slack"],keywords:["kwatch","kubernetes","devops","monitoring","slack","cluster","webhook","crash"],description:"monitor all changes in your Kubernetes cluster & detects crashes in your running apps in real time with Slack",pagination_prev:null},prevItem:{title:"Detect crashes in your Kubernetes cluster using kwatch and PagerDuty",permalink:"/blog/detect-crashes-in-your-cluster-using-kwatch-and-pagerduty"},nextItem:{title:"What is kwatch?",permalink:"/blog/what-is-kwatch"}},i={authorsImageUrls:[void 0]},s=[{value:"What is kwatch?",id:"what-is-kwatch",level:2},{value:"Configure kwatch with Slack",id:"configure-kwatch-with-slack",level:2},{value:"Deploy kwatch",id:"deploy-kwatch",level:2}],p={toc:s},u="wrapper";function h(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"what-is-kwatch"},"What is kwatch?"),(0,r.kt)("p",null,"kwatch is an open-source project that started late in 2021.\nIt aims to help you monitor all changes in your Kubernetes(K8s) cluster,\ndetect crashes in your running apps, and publish notifications to your favorite channels (Slack, Discord, etc.) in real-time."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"In this tutorial, I will help you setup and deploy kwatch on your Kubernetes cluster."),"\n",(0,r.kt)("strong",{parentName:"p"},"Plus, integrate with Slack to get notified on a channel when there is a crash in your apps.")),(0,r.kt)("h2",{id:"configure-kwatch-with-slack"},"Configure kwatch with Slack"),(0,r.kt)("p",null,"First of all, we need to get the webhook URL of the channel you want the notification to be received on it."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"If you know how to generate the webhook URL you can escape this part and go to the configuration section.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1: create a new slack channel (if you don't have one already)")),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/1.png"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2: Go to ",(0,r.kt)("a",{parentName:"strong",href:"https://api.slack.com/apps"},"https://api.slack.com/apps")," and create an app from scratch and connect it with your workplace")),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/2.png"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3: Create an incoming webhook and activate it")),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/3.png"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 4: Connect it to you channel")),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/4.png"})),(0,r.kt)("p",null,"Finally we have the webhook URL for the channel!"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 5: Get Configuration")),(0,r.kt)("p",null,"Get the configuration template"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl  -L https://raw.githubusercontent.com/abahmed/kwatch/v0.3.0/deploy/config.yaml -o config.yaml\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 6: Edit config.yaml with the corresponding configs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: kwatch\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: kwatch\n  namespace: kwatch\ndata:\n  config.yaml: |\n    alert:\n      slack:\n        webhook: WEBHOOK_URL\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 7: Apply Configuration")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f config.yaml\n")),(0,r.kt)("h2",{id:"deploy-kwatch"},"Deploy kwatch"),(0,r.kt)("p",null,"Deploy kwatch on your cluster with one command"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f https://raw.githubusercontent.com/abahmed/kwatch/v0.3.0/deploy/deploy.yaml\n")),(0,r.kt)("p",null,"After deploying you will get notified on the channel that kwatch has started successfully. Now, kwatch is monitoring your apps!"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/5.png"})),(0,r.kt)("p",null,"Here is an example of kwatch messages when a crash is detected."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"./../../img/blog/kwatch-slack/6.png"})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"If you like kwatch, give it a star on ",(0,r.kt)("a",{parentName:"em",href:"https://github.com/abahmed/kwatch"},"GitHub"),"!")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"We are happy to hear feedback from you and if you have any request, or suggestion don't hesitate to ping us on our channels (",(0,r.kt)("a",{parentName:"em",href:"https://discord.gg/kzJszdKmJ7"},"Discord"),", ",(0,r.kt)("a",{parentName:"em",href:"https://github.com/abahmed/kwatch"},"GitHub"),")")))}h.isMDXComponent=!0}}]);